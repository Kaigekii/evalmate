{% extends 'EvalMateApp/base_dashboard.html' %}
{% load static %}

{% block title %}Reports - EvalMate{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'EvalMateApp/css/reports.css' %}">
{% endblock %}

{% block content %}
<div class="reports-container">
    <h1><i class="fas fa-chart-bar"></i> Evaluation Reports</h1>
    <p class="muted">View and analyze submitted peer evaluations from students</p>

    <div class="reports-grid">
        {% for item in forms_data %}
        <div class="report-card">
            <h3><i class="fas fa-file-alt"></i> {{ item.form.title }}</h3>
            <p class="muted"><i class="fas fa-graduation-cap"></i> Course: {{ item.form.course_id }}</p>
            <div class="report-stats">
                <div class="stat">
                    <div class="stat-value">{{ item.total_submissions }}</div>
                    <div class="stat-label"><i class="fas fa-clipboard-list"></i> Total Submissions</div>
                </div>
                <div class="stat">
                    <div class="stat-value">{{ item.todays_submissions }}</div>
                    <div class="stat-label"><i class="far fa-calendar"></i> Today's Submissions</div>
                </div>
                <div class="stat">
                    <div class="stat-value">{{ item.unread_submissions }}</div>
                    <div class="stat-label"><i class="fas fa-bell"></i> Unread</div>
                </div>
            </div>
            <div class="report-actions">
                <a href="{% url 'faculty_form_responses' item.form.id %}" class="btn btn--outline">
                    <i class="far fa-eye"></i> View Responses
                </a>
            </div>
        </div>
        {% empty %}
        <p><i class="far fa-folder-open"></i> No forms found. Create a form first in Form Builder.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% extends 'EvalMateApp/base_dashboard.html' %}
{% load static %}

{% block title %}Responses - {{ form.title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'EvalMateApp/css/reports.css' %}">
{% endblock %}

{% block content %}
<div class="responses-container">
    <a href="{% url 'faculty_reports' %}"><i class="fas fa-arrow-left"></i> Back to Reports</a>
    <h1><i class="fas fa-clipboard-list"></i> {{ form.title }}</h1>
    <p class="muted">
        <i class="fas fa-graduation-cap"></i> Course: {{ form.course_id }} &middot; 
        <i class="far fa-clock"></i> Created: {{ form.created_at|date:"M d, Y" }}
    </p>

    <div class="responses-list">
        {% for r in responses %}
        <div class="response-item">
            <div class="response-meta">
                <strong><i class="far fa-user"></i> {{ r.submitted_by.first_name }} {{ r.submitted_by.last_name }}</strong>
                <span class="muted"><i class="far fa-clock"></i> {{ r.submitted_at|date:"M d, Y g:i A" }}</span>
            </div>
            <div class="response-actions">
                <a href="{% url 'faculty_response_detail' form.id r.id %}" class="btn btn--outline">
                    <i class="far fa-eye"></i> View Details
                </a>
            </div>
        </div>
        {% empty %}
        <p><i class="far fa-folder-open"></i> No responses yet for this form.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
